
```
Insurance_Postman_Testing_Checklist.txt
```

---

# ğŸ“„ Insurance Claim Management System

# Postman Testing Checklist

---

# âœ… 0ï¸âƒ£ PRE-START CHECK

Before testing:

* Start Eureka Server (8761)
* Start user-service (8081)
* Start policy-service (8082)
* Start claim-service (8083)
* Start api-gateway (8080)
* Confirm all services registered in Eureka

Open:

```
http://localhost:8761
```

---

# âœ… 1ï¸âƒ£ BASE URL (Always Use Gateway)

```
http://localhost:8080
```

---

# âœ… 2ï¸âƒ£ USER REGISTRATION

### ğŸ”¹ Endpoint

```
POST /users/register
```

### ğŸ”¹ Full URL

```
http://localhost:8080/users/register
```

### ğŸ”¹ Body (JSON)

USER:

```json
{
  "name": "User",
  "email": "user@test.com",
  "password": "123",
  "role": "ROLE_USER"
}
```

ADMIN:

```json
{
  "name": "Admin",
  "email": "admin@test.com",
  "password": "123",
  "role": "ROLE_ADMIN"
}
```

### âœ” Expected Result

* 200 OK
* User stored in database

---

# âœ… 3ï¸âƒ£ LOGIN (GET JWT TOKEN)

### ğŸ”¹ Endpoint

```
POST /users/login
```

### ğŸ”¹ URL

```
http://localhost:8080/users/login
```

### ğŸ”¹ Body

```json
{
  "email": "user@test.com",
  "password": "123"
}
```

### âœ” Expected Result

* JWT token returned as string

---

# âœ… 4ï¸âƒ£ SAVE TOKENS

Copy and store:

```
USER_TOKEN = <paste_here>
ADMIN_TOKEN = <paste_here>
```

---

# âœ… 5ï¸âƒ£ CREATE POLICY (ADMIN ONLY IF RESTRICTED)

### ğŸ”¹ Endpoint

```
POST /policies
```

### ğŸ”¹ Headers

```
Authorization: Bearer ADMIN_TOKEN
Content-Type: application/json
```

### ğŸ”¹ Body

```json
{
  "policyName": "Health Basic",
  "premiumAmount": 5000,
  "policyType": "HEALTH"
}
```

### âœ” Expected

* 200 OK

### âŒ Test With USER_TOKEN

* Should return 403 Forbidden (if restricted)

---

# âœ… 6ï¸âƒ£ CREATE CLAIM (USER ONLY)

### ğŸ”¹ Endpoint

```
POST /claims
```

### ğŸ”¹ Headers

```
Authorization: Bearer USER_TOKEN
Content-Type: application/json
```

### ğŸ”¹ Body

```json
{
  "policyId": 1,
  "userId": 1,
  "claimAmount": 3000
}
```

### âœ” Expected

* Status auto set to PENDING
* createdDate auto set

---

# âœ… 7ï¸âƒ£ VIEW CLAIMS

### ğŸ”¹ Endpoint

```
GET /claims
```

### ğŸ”¹ Headers

```
Authorization: Bearer USER_TOKEN
```

### âœ” Expected

* Claims list returned

Test again with ADMIN_TOKEN
âœ” Should also work

---

# âœ… 8ï¸âƒ£ APPROVE CLAIM (ADMIN ONLY)

### ğŸ”¹ Endpoint

```
PUT /claims/{id}/APPROVED
```

Example:

```
http://localhost:8080/claims/1/APPROVED
```

### ğŸ”¹ Headers

```
Authorization: Bearer ADMIN_TOKEN
```

### âœ” Expected

* Status changed to APPROVED

### âŒ Test With USER_TOKEN

* Should return 403 Forbidden

---

# âœ… 9ï¸âƒ£ UNAUTHORIZED ACCESS TEST

Remove Authorization header and call:

```
GET /claims
```

### âœ” Expected

* 401 Unauthorized

---

# âœ… ğŸ”Ÿ INVALID TOKEN TEST

Modify token slightly and call API.

### âœ” Expected

* 401 Unauthorized

---

# âœ… 1ï¸âƒ£1ï¸âƒ£ ROLE VALIDATION MATRIX

| Action        | USER | ADMIN |
| ------------- | ---- | ----- |
| Login         | âœ…    | âœ…     |
| Create Policy | âŒ    | âœ…     |
| Create Claim  | âœ…    | âŒ     |
| Approve Claim | âŒ    | âœ…     |
| View Claims   | âœ…    | âœ…     |

---

# âœ… 1ï¸âƒ£2ï¸âƒ£ DATABASE VERIFICATION

After each operation verify in MySQL:

```
USE claim_db;
SELECT * FROM claims;
```

Check:

* Status updates correctly
* No null fields
* Data consistent

---

# ğŸ¯ FINAL PRESENTATION FLOW (Recommended Demo Order) After Frontend implementation

1. Show Eureka dashboard
2. Register USER & ADMIN
3. Login as USER
4. Create claim
5. Try approving â†’ fail
6. Login as ADMIN
7. Approve claim â†’ success
8. Show DB update in Workbench

This flow clearly demonstrates:

* Microservices
* Gateway routing
* JWT authentication
* Role-based authorization
* Database persistence

---

# ğŸ SYSTEM STATUS

If all above tests pass:

âœ” Authentication Working
âœ” Authorization Working
âœ” Gateway Routing Working
âœ” Eureka Discovery Working
âœ” Database Persistence Working

Your backend is fully validated.

---

